<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main Page</title>
    <!-- import css -->
    <link rel="stylesheet" href="{{url_for('static', filename = 'slick-1.8.1/slick/slick.css')}}">
    <link rel="stylesheet" href="{{url_for('static', filename = 'slick-1.8.1/slick/slick-theme.css')}}">
    <link rel="stylesheet" href="{{url_for('static', filename = 'main_style.css')}}">
</head>
<body>
    <div class="header">
        <div class="box_logo">
            <img src="{{url_for('static', filename = 'Colour Logo.png')}}" alt="" id="logo">
            <p id="BrandName">Colour Me</p>
        </div>
        <div class="box_icon"><img src="{{url_for('static', filename = 'search_icon.png')}}" alt="" id="search_icon" onclick="popup_search()"></div>
        <div class="box_icon"><a href="{{url_for('product_page')}}"><img src="{{url_for('static', filename = 'shoes.png')}}" alt="" id="product_icon"></a></div>
        <div class="box_icon"><img src="{{url_for('static', filename = 'collect_icon.png')}}" alt="" id="collect_icon"></div>
        <div class="box_icon"><a href="{{url_for('home_page')}}"><img src="{{url_for('static', filename = 'exit.png')}}" alt="" id="exit_icon"></a></div>
    </div>
    <div class = "hot">
        <h1><img src="{{url_for('static', filename = 'hot_icon.png')}}" alt=""> 熱門款式</h1>
        <ul class="main">
            {% for i in slick_list %}
                <li>
                    <img src="{{i['url']}}" alt="">
                    <div>
                        <p>{{i['name']}}</p>
                        <img src="{{url_for('static', filename = 'collection.png')}}" alt="">
                    </div>
                </li>
            {% endfor %}
        </ul>
    </div><br><br><br>

    <div class="popup" onclick="popup_search()">點擊我去搜尋！！！
        <span class="popuptext" id="search" onclick="popup_search()">
            <form action="main_page" method="post" enctype="multipart/form-data">
                請上傳圖片：<input type="file" id="input_pics" name = 'photo' accept=".jpg, .jpeg, .png" onchange="readURL(this)" targetID="preview_img">
                <img id="preview_img" src="#" alt=""/>
                <input type="submit" name="" id="submit">
                <input type="reset" name="" id="reset">
                <input type="button" name="" id="cancel" value="取消" onclick="popup_search()">
            </form>
        </span>
    </div>

    <div class="result">
        <div class="original">
            <img id="preview_img" src="data:;base64,{{img_encoded}}"/>
        </div>
        <div class="comparison">
            <div class="img">123</div>
            <div class="text">
                <ul>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                </ul>
            </div>
        </div>
    </div>

    <!-- <div class="recommendation">
        <table>
            <caption>熱門鞋款</caption>
            <tr>
                <th></th>
                <th>鞋款１</th>
                <th>鞋款２</th>
                <th>鞋款３</th>
            </tr>
            <tr>
                <td>圖片</td>
                <td>35</td>
                <td>467</td>
                <td>467</td>
            </tr>
            <tr>
                <td>說明</td>
                <td>35</td>
                <td>467</td>
                <td>467</td>
            </tr>
            <tr>
                <td>導購</td>
                <td>35</td>
                <td>467</td>
                <td>467</td>
            </tr>
          </table>
    </div> -->

    <div class="footer">
        <div class="footer_box">
            <div class="footer_logo">
                <img src="{{url_for('static',filename = 'Colour Logo.png')}}">
            </div>
        </div>
        <div class="footer_sections">
            <div class="footer_sec1">
                <p>日期： 週一至週五<br>電話： (02)-2737-7300<br>時間： 9 AM ~ 12 PM ／ 1 PM ~ 5:30 PM<br>地址： 台北市大安區復興南路二段237號4樓</p>
            </div>
            <div class="footer_sec2">
                <img src="{{url_for('static', filename = 'Linebot QRcode.png')}}" alt="">
            </div>
            <div class="footer_sec3">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d115687.73633497348!2d121.47363185395893!3d25.025868290442194!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3442a98c743d3bb5%3A0x93fb4e641c4e5ed6!2z5bel56CU6Zmi55Si5qWt5Lq65omN6KiT57e05LiA6YOoLeWPsOWMlyAo5Y-w5YyX5a2457-S5Lit5b-DKQ!5e0!3m2!1sen!2stw!4v1670309831994!5m2!1sen!2stw" width="400" height="300" style="border:0;" allowfullscreen="" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
        </div>
    </div>

    <!-- infro for slick -->
    <script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <script src="{{url_for('static', filename = 'slick-1.8.1/slick/slick.min.js')}}"></script>
    
    <script>
    // infro for slick
        $('.main').slick({
            dots: false,
            infinite: true,
            autoplay: true,
            speed: 300,
            autoplayspeed: 2,
            slidesToShow: 3,
            adaptiveHeight: true
        });        
    </script>
    <script>
        // When the user clicks on div, open the popup
        function popup_search() {
          const search = document.querySelector("#search");
          search.classList.toggle("show");
        }
    </script>
    <script>
        function readURL(input){
            if(input.files && input.files[0]){
                const imageTagID = input.getAttribute("targetID");
                console.log(imageTagID);
                const reader = new FileReader();
                reader.onload = function (e) {
                    const img = document.getElementById(imageTagID);
                    img.setAttribute("src", e.target.result)
                }
                reader.readAsDataURL(input.files[0]);
            }
        }
    </script>
</body>
</html>
